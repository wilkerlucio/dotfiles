# Utility
alias reload='source ~/dotfiles/bash/aliases'
alias ea="$EDITOR ~/dotfiles/bash/aliases && reload" # Edit aliases
alias ee="$EDITOR ~/dotfiles/bash/env"
function d { cd ~/Development/$1; }

# Tar
alias tx="tar -xvzf"

# Processes
alias tu="top -o cpu" # cpu
alias tm="top -o vsize" # memory

# Git
alias g="git status"
alias gb="git branch"
alias gba="git branch -a"
alias gc="git commit -v"
alias gca="git commit -v -a"
alias gco="git checkout"
alias gd="git diff"
alias gl="git pull"
alias gp="git push"

function gta() {
  git tag -a "v$1" -m "tagging version $1"
}

# Setup a tracking branch from [remote] [branch_name]
function gbt() {
  git checkout -b $2 -t $1/$2
}

# Setup a tracking branch from origin [branch_name]
function gbto() {
  git checkout -b $1 -t origin/$1
}

# Ruby
alias r="rake"

# Rails
alias rp="touch tmp/restart.txt"
alias tl="tail -f log/*.log"
alias sp="RAILS_ENV=test spec"
alias ccp="RAILS_ENV=test script/cucumber"
alias sc="./script/console"

# Coffee
alias cw="coffee --no-wrap -cw"

# Create new app from template
function rt() {
  rails $* -m "http://github.com/wilkerlucio/rails_template/raw/master/template.rb"
}

# Open Nginx configuration
alias ngc="$EDITOR /opt/nginx/conf/nginx.conf && ngr"

# Restart Nginx
function ngr() {
  sudo launchctl stop net.nginx
  echo "Stopping Nginx..."
  sleep 2
  echo "Starting Nginx..."
  sudo launchctl start net.nginx
}
